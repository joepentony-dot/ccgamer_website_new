<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CCG Retro Quiz | C64 Mode</title>

    <link rel="stylesheet" href="../resources/css/main.css">
    <link rel="stylesheet" href="../css/engine.css">

    <style>
        /* Raster canvas */
        #raster-canvas {
            position: fixed;
            inset: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
        }

        html, body {
            cursor: auto !important;
            background: #000080;
            color: #a0b0ff;
        }

        .c64-frame {
            position: relative;
            z-index: 10;
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            border: 4px solid #6c5eb5;
            box-shadow: 0 0 18px #6c5eb5;
            background: #000040;
            font-family: "VT323", "Courier New", monospace;
        }

        .c64-title {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 10px;
            color: #a0b0ff;
            text-shadow: 0 0 8px #6c5eb5;
        }

        .c64-subtitle {
            text-align: center;
            font-size: 1rem;
            margin-bottom: 20px;
        }

        .c64-columns {
            display: grid;
            gap: 16px;
        }

        @media (min-width: 800px) {
            .c64-columns {
                grid-template-columns: 1.1fr 2fr;
            }
        }

        .c64-panel {
            border: 2px solid #6c5eb5;
            padding: 12px;
            background: #000060;
            min-height: 180px;
        }

        .c64-panel h2 {
            font-size: 1.2rem;
            margin-bottom: 8px;
            color: #c0d0ff;
        }

        .quiz-set-list button {
            width: 100%;
            display: block;
            margin: 4px 0;
            padding: 6px 10px;
            background: #0000a0;
            color: #a0b0ff;
            border: 1px solid #6c5eb5;
            font-family: inherit;
            text-align: left;
            cursor: pointer;
        }

        .quiz-set-list button:hover,
        .quiz-set-list button.active {
            background: #2020ff;
            color: #ffffff;
            box-shadow: 0 0 8px #6c5eb5;
        }

        .c64-button {
            display: inline-block;
            margin-top: 8px;
            padding: 6px 12px;
            border: 2px solid #6c5eb5;
            background: #0000a0;
            color: #a0b0ff;
            cursor: pointer;
            text-decoration: none;
            font-family: inherit;
        }

        .c64-button:hover {
            background: #2020ff;
            color: #ffffff;
            box-shadow: 0 0 8px #6c5eb5;
        }

        .question-text {
            min-height: 60px;
            font-size: 1.1rem;
        }

        .answers {
            margin-top: 10px;
        }

        .answers button {
            width: 100%;
            margin: 3px 0;
            padding: 6px 8px;
            border: 1px solid #6c5eb5;
            background: #000090;
            color: #a0b0ff;
            font-family: inherit;
            cursor: pointer;
            text-align: left;
        }

        .answers button:hover {
            background: #2020ff;
            color: #ffffff;
        }

        .answers button.correct {
            background: #008000;
            color: #ffffff;
        }

        .answers button.incorrect {
            background: #800000;
            color: #ffffff;
        }

        .quiz-status {
            margin-top: 8px;
            font-size: 0.95rem;
        }

        .quiz-log {
            margin-top: 8px;
            font-size: 0.85rem;
            color: #8080ff;
            max-height: 120px;
            overflow-y: auto;
            border-top: 1px dashed #6c5eb5;
            padding-top: 5px;
        }

        .c64-footer {
            margin-top: 14px;
            font-size: 0.8rem;
            text-align: center;
            color: #8080ff;
        }
    </style>
</head>
<body>

<canvas id="raster-canvas"></canvas>

<div class="c64-frame">
    <div class="c64-title">CCG RETRO QUIZ</div>
    <div class="c64-subtitle">COMMODORE 64 / AMIGA KNOWLEDGE TEST</div>

    <div class="c64-columns">

        <!-- LEFT: QUIZ SET SELECTION -->
        <div class="c64-panel">
            <h2>QUIZ SETS</h2>
            <div id="quiz-set-list" class="quiz-set-list">
                <p>LOADING QUIZ SETS...</p>
            </div>

            <button id="start-quiz-btn" class="c64-button" disabled>
                START QUIZ
            </button>

            <div class="quiz-status" id="quiz-meta"></div>
        </div>

        <!-- RIGHT: QUESTION PANEL -->
        <div class="c64-panel">
            <h2>QUIZ PANEL</h2>

            <div id="quiz-intro">
                <p>SELECT A QUIZ SET ON THE LEFT, THEN PRESS &ldquo;START QUIZ&rdquo;.</p>
                <p>QUESTIONS WILL APPEAR HERE IN TRUE C64 STYLE.</p>
            </div>

            <div id="quiz-live" style="display:none;">
                <div class="question-text" id="quiz-question"></div>
                <div class="answers" id="quiz-answers"></div>
                <div class="quiz-status" id="quiz-status"></div>
                <button id="next-question-btn" class="c64-button" style="display:none;">
                    NEXT QUESTION
                </button>
            </div>

            <div class="quiz-log" id="quiz-log"></div>
        </div>

    </div>

    <div class="c64-footer">
        USE ARROW KEYS (OR MOUSE) TO NAVIGATE. &nbsp; HIGH SCORES COMING SOON.
    </div>
</div>

<!-- SID intro support (same behaviour as rest of site) -->
<audio id="sid-intro" src="../resources/audio/stay_a_while.mp3" preload="auto"></audio>

<!-- Optional beep sound for answers -->
<audio id="quiz-beep" src="../resources/audio/quiz_beep.mp3" preload="auto"></audio>

<script src="../js/engine.js" defer></script>
<script src="../js/quiz-loader.js" defer></script>
<script src="../js/quiz-engine.js" defer></script>

</body>
</html>
