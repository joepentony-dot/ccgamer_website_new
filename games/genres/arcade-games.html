<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcade Games | Cheeky Commodore Gamer</title>

    <!-- Global CCG Theme -->
    <link rel="stylesheet" href="../../resources/css/main.css">

    <!-- Optional CRT flicker (remove class if undesired) -->
    <body class="crt-flicker">

</head>
<body>

<div class="ccg-page">
    <div class="ccg-page-inner ccg-crt-glow">

        <header class="ccg-header">
            <h1>Arcade Games</h1>
            <p class="ccg-header-subtitle">Fast-paced action straight from the golden age.</p>
        </header>

        <div id="results" class="ccg-grid"></div>

        <div class="ccg-back">
            <a href="../index.html" class="ccg-btn-secondary">⬅ Back to Game Menu</a>
        </div>

        <footer class="ccg-footer">
            Cheeky Commodore Gamer – Arcade Classics & Neon Nostalgia
        </footer>

    </div>
</div>


<script>
async function loadGenre() {
    const container = document.getElementById("results");

    try {
        const response = await fetch("../games.json");
        const games = await response.json();

        // Filter for this specific genre name EXACTLY as in your data
        const filtered = games.filter(g =>
            g.genre && g.genre.includes("Arcade Games")
        );

        // Sort alphabetically
        filtered.sort((a, b) => a.title.localeCompare(b.title));

        if (filtered.length === 0) {
            container.innerHTML = "<p>No games found in this genre.</p>";
            return;
        }

        container.innerHTML = filtered.map(g => `
            <div class="game-card">
                <a href="../game.html?id=${g.id}">
                    <img src="../../${g.thumbnail}" alt="${g.title}">
                </a>

                <a href="../game.html?id=${g.id}">
                    ${g.title}
                </a>

                <div class="meta">${g.year || ""}</div>
            </div>
        `).join("");

    } catch (err) {
        container.innerHTML = "<p>Error loading Arcade Games.</p>";
    }
}

loadGenre();
</script>

</body>
</html>
