<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fighting Games | Cheeky Commodore Gamer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/engine.css">
    <link rel="stylesheet" href="../../resources/main.css">
    <style>
        body{margin:0;background:#000;color:#f4f4f4;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif}
        .ccg-shell{max-width:1100px;margin:0 auto;padding:16px}
        header.ccg-header{border-bottom:2px solid #333;padding:10px 0 16px 0}
        .ccg-header h1{margin:0;font-size:1.6rem}
        nav.ccg-nav{margin-top:10px;display:flex;gap:12px;flex-wrap:wrap}
        nav.ccg-nav a{color:#7fd0ff;text-decoration:none;padding:4px 8px;border-radius:4px}
        nav.ccg-nav a:hover{background:#07111f;border:1px solid #7fd0ff}
        .games-grid{margin-top:16px;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px}
        .game-card{background:#050915;border:1px solid #333;border-radius:6px;padding:10px}
        .game-thumb{width:100%;border-radius:4px}
        .game-title{margin:10px 0 4px 0;font-size:1rem}
        .game-meta{font-size:.85rem;opacity:.8}
        .game-links a{display:inline-block;margin-top:6px;color:#7fd0ff;font-size:.85rem}
    </style>
    <script defer src="../../js/load-games.js"></script>
</head>
<body>
<div class="ccg-shell">
    <header class="ccg-header">
        <h1>Fighting Games</h1>
        <nav class="ccg-nav">
            <a href="../../index.html">Home</a>
            <a href="../index.html">Game Browser</a>
            <a href="../complete-index.html">Full Index</a>
        </nav>
    </header>

    <div id="games-container" class="games-grid"></div>
</div>

<script>
async function loadGenre() {
    const games = await ccgFetchGames();
    const filtered = games.filter(g =>
        Array.isArray(g.genres) &&
        g.genres.some(gn => gn.toLowerCase() === "fighting games")
    );
    const c = document.getElementById("games-container");
    if (!filtered.length) return c.innerHTML = "<p>No games found in this genre.</p>";
    filtered.forEach(g => {
        c.innerHTML += `
        <div class="game-card">
            <img src="${g.thumbUrl}" class="game-thumb">
            <div class="game-title">${g.title}</div>
            <div class="game-meta">${g.system ? "System: "+g.system : ""}</div>
            <div class="game-links">
                ${g.videoId?`<a href="https://www.youtube.com/watch?v=${g.videoId}" target="_blank">Watch Video</a><br>`:""}
                ${g.lemonUrl?`<a href="${g.lemonUrl}" target="_blank">Lemon64</a><br>`:""}
                ${g.pdfUrl?`<a href="${g.pdfUrl}" target="_blank">Manual</a><br>`:""}
                ${g.diskUrl?`<a href="${g.diskUrl}" target="_blank">Disk Download</a>`:""}
            </div>
        </div>`;
    });
}
document.addEventListener("DOMContentLoaded", loadGenre);
</script>
</body>
</html>
