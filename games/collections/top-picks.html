<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Top Picks | Cheeky Commodore Gamer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="../../css/engine.css">
<link rel="stylesheet" href="../../resources/main.css">
<style>/* same styling */</style>
<script defer src="../../js/load-games.js"></script>
</head>

<body>
<div class="ccg-shell">

<header class="ccg-header">
<h1>Top Picks</h1>
<nav class="ccg-nav">
<a href="../../index.html">Home</a>
<a href="../index.html">Game Browser</a>
<a href="../complete-index.html">Full Index</a>
</nav>
</header>

<div id="games-container" class="games-grid"></div>
</div>

<script>
async function loadCollection(){
  const games = await ccgFetchGames();
  const filtered = games.filter(g =>
    Array.isArray(g.genres) &&
    g.genres.some(gn => gn.toLowerCase() === "top picks")
  );

  const c=document.getElementById("games-container");
  if(!filtered.length){ c.innerHTML="<p>No games found in this collection.</p>"; return;}

  filtered.forEach(g=>{
    c.innerHTML+=`
      <div class="game-card">
        <img src="${g.thumbUrl}" class="game-thumb">
        <div class="game-title">${g.title}</div>
        <div class="game-meta">${g.system?`System: ${g.system}`:""}</div>
        <div class="game-links">
          ${g.videoId?`<a href="https://www.youtube.com/watch?v=${g.videoId}" target="_blank">Watch Video</a><br>`:""}
          ${g.lemonUrl?`<a href="${g.lemonUrl}" target="_blank">Lemon64</a><br>`:""}
          ${g.pdfUrl?`<a href="${g.pdfUrl}" target="_blank">Manual</a><br>`:""}
          ${g.diskUrl?`<a href="${g.diskUrl}" target="_blank">Disk Download</a>`:""}
        </div>
      </div>`;
  });
}
document.addEventListener("DOMContentLoaded", loadCollection);
</script>

</body>
</html>
