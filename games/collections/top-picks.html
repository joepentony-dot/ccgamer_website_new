<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top Picks | Cheeky Commodore Gamer</title>

    <link rel="stylesheet" href="../../resources/css/main.css">
</head>
<body>

<div class="ccg-page">
<div class="ccg-page-inner ccg-crt-glow">

<header class="ccg-header">
    <h1>Top Picks</h1>
    <p class="ccg-header-subtitle">Hand-chosen favourites from the Cheeky Commodore vault.</p>
</header>

<div id="results" class="ccg-grid"></div>

<div class="ccg-back">
    <a href="../index.html" class="ccg-btn-secondary">⬅ Back to Game Menu</a>
</div>

<footer class="ccg-footer">
    Cheeky Commodore Gamer – Joe’s definitive picks
</footer>

</div>
</div>

<script>
async function loadCollection() {
    const container = document.getElementById("results");

    try {
        const response = await fetch("../games.json");
        const games = await response.json();

        const filtered = games.filter(g =>
            Array.isArray(g.genres) && g.genres.includes("Top Picks")
        );

        filtered.sort((a, b) => a.title.localeCompare(b.title));

        if (!filtered.length) {
            container.innerHTML = "<p>No top picks found.</p>";
            return;
        }

        container.innerHTML = filtered.map(g => `
            <div class="game-card">
                <a href="../game.html?id=${g.id}">
                    <img src="../../${g.thumbnail}" alt="${g.title}">
                </a>
                <a href="../game.html?id=${g.id}">${g.title}</a>
                <div class="meta">${g.year || ""}</div>
            </div>
        `).join("");

    } catch {
        container.innerHTML = "<p>Error loading Top Picks.</p>";
    }
}

loadCollection();
</script>

</body>
</html>
